<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Babun - a windows shell you will love | Babun</title><link rel="stylesheet" href="/stylesheets/styles.css"><script src="/javascripts/vendor/custom.modernizr.js"></script></head><body class="antialiased"><nav class="top-bar"><ul class="title-area"><li class="name"><h1><a href="/">Babun (pronounced Baboon)</a></h1></li><li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li></ul><section class="top-bar-section"><ul class="right"><li class="divider"></li><li><a href="/">Usage</a></li><li class="divider"></li><li><a href="/development/">Development</a></li></ul></section></nav><div class="container"><header><div class="row"><div class="large-12 columns"><h1>Babun - a windows shell you will love</h1></div></div></header><div class="row"><div class="large-12 columns"><div class="row"><div class="large-12 columns"><div class="sect1">
<h2 id="development"><a class="anchor" href="#development"></a>Development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="building-from-source"><a class="anchor" href="#building-from-source"></a>Building from source</h3>
<div class="paragraph">
<p>The project is regularly build on Jenkins, on a slave node running Windows. The Windows OS is required to fully build the distribution package as one of the goals invokes the native Cygwin installer. The artifacts created by each module are cached in the target folder after a successful build. This mechanism is not intelligent to calculate the diffs so if you would like to fully rebuild a module make sure to invoke the <code>clean</code> goal before the <code>package</code> goal. For now it&#8217;s not possible to invoke a build of a selective modules only.</p>
</div>
<div class="paragraph">
<p>In order to build the dist package invoke:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">groovy build.groovy package</pre>
</div>
</div>
<div class="paragraph">
<p>In order to clean the project target folder invoke:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">groovy build.groovy clean</pre>
</div>
</div>
<div class="paragraph">
<p>In order to publish the release version to bintray invoke:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">groovy build.groovy release</pre>
</div>
</div>
<div class="paragraph">
<p>The release goal expects the following environment variables: <code>bintray_user</code> and <code>bintray_secret</code></p>
</div>
</div>
<div class="sect2">
<h3 id="developing-a-plugin"><a class="anchor" href="#developing-a-plugin"></a>Developing a plugin</h3>
<div class="paragraph">
<p>Every plugins has to consist of two main files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>install.sh - a file that will be invoke during the creation of the babun&#8217;s distribution</p>
</li>
<li>
<p>install_home.sh - a file that will be invoked during the installation of babun to the user&#8217;s home folder</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Have a look at the pact plugin - it&#8217;s a perfect example of a relatively small plugin.</p>
</div>
<div class="sect3">
<h4 id="install-sh"><a class="anchor" href="#install-sh"></a>install.sh</h4>
<div class="paragraph">
<p>Its main responsibility is to install the plugin - for example to copy the plugin files to, e.g. <code>/usr/local/etc</code> or <code>/usr/local/bin</code> directories. install.sh script is also responsbile for preparing the user&#8217;s home folder template. The template files have to be copied to the <code>/usr/local/babun/home/&lt;plugin_name&gt;</code> folder.</p>
</div>
<div class="paragraph">
<p>install.sh will be invoked many times - on every plugin update if the plugin version is higher than the version of the installed plugin - thus it&#8217;s logic has to work in an incremental way.</p>
</div>
</div>
<div class="sect3">
<h4 id="install_home-sh"><a class="anchor" href="#install_home-sh"></a>install_home.sh</h4>
<div class="paragraph">
<p>Its main responsbility is to configure the user&#8217;s home folder with the plugin releated stuff, if necessarycopy. For example, it may copy the files from the <code>/usr/local/babun/home/&lt;plugin_name&gt;</code> folder to the user&#8217;s home folder.
It is also responsible for any other things that may be necessary during the user&#8217;s home configuration process.</p>
</div>
<div class="paragraph">
<p>install_home.sh will be invoked many times - on every plugin update if the plugin version is higher than the version of the installed plugin - thus it&#8217;s logic has to work in an incremental way.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contribute"><a class="anchor" href="#contribute"></a>Contribute</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We are looking for new contributors, so if you fancy bash progamming and if you would like to contribute a patch or a code up a new plugin give us a shout!</p>
</div>
</div>
</div></div></div></div></div></div><footer><div class="row full-width"><div class="large-6 columns"><p>&copy; Babun Team 2014.<br>Babun is licensed under the Apache License v2.</p></div><div class="large-6 columns"></div></div></footer><script>document.write('<script src=' + ('__proto__' in {} ? '/javascripts/vendor/zepto' : '/javascripts/vendor/jquery') + '.js><\/script>')</script><script src="/javascripts/foundation/foundation.js"></script><script src="/javascripts/foundation/foundation.topbar.js"></script><script>$(document).foundation();</script><script>(function() { var p1 = document.createElement('script'); p1.async = true; p1.src = 'https://apis.google.com/js/plusone.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(p1, s);})();</script></body></html>